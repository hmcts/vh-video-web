<section aria-labelledby="conference-list-heading">
  <h2 id="conference-list-heading" class="govuk-visually-hidden">Conference List</h2>
  <ng-container *ngIf="noConferences">
    <h3 id="no-conferences-message" class="govuk-heading-m govuk-!-margin-3">
      {{ 'judge-hearing-list.you-have-no-video-hearings' | translate }}
    </h3>
  </ng-container>
  <ng-container *ngIf="!noConferences">
    <article
      class="vhList govuk-!-padding-top-2"
      [ngClass]="{ 'selected-conference': isCurrentConference(conference) }"
      *ngFor="let conference of conferences; trackBy: trackConference"
      (keydown.enter)="selectConference(conference)"
      (click)="selectConference(conference)"
      id="{{ conference.id }}-summary"
    >
      <span class="copyTooltip" id="{{ conference.id }}-copyTooltip">
        <fa-icon icon="link" class="copy-links-wrapper" aria-hidden="true"></fa-icon>
        <span class="copyTooltipText" id="{{ conference.id }}-copyTooltipText">
          <app-copy-id [conference]="conference"></app-copy-id>
          <app-copy-quick-link [conferenceId]="conference.id" [hearingId]="conference.hearingRefId"></app-copy-quick-link>
          <ng-container *ngIf="conference.isJoinByPhone">
            <app-copy-telephone-id
              [telephoneId]="conference.telephoneConferenceId"
              [telephoneNumbers]="conference.telephoneConferenceNumbers"
            ></app-copy-telephone-id>
          </ng-container>
        </span>
      </span>
      <time id="{{ conference.id }}-time">{{ conference.scheduledDateTime | date: 'HH:mm' }}</time>
      <ng-container *ngIf="conference.startedDateTime">
        <span id="{{ conference.id }}-started">started</span>
        <time id="{{ conference.id }}-startedTime">{{ conference.startedDateTime | date: 'HH:mm' }}</time>
      </ng-container>
      <ng-container *ngIf="conference.endedDateTime">
        <span id="{{ conference.id }}-ended">ended</span>
        <time id="{{ conference.id }}-endTime">{{ conference.endedDateTime | date: 'HH:mm' }}</time>
      </ng-container>
      <h3 id="{{ conference.id }}-case-name">
        <app-truncatable-text [text]="conference.caseName"></app-truncatable-text>
      </h3>
      <p id="{{ conference.id }}-duration">{{ getDuration(conference) }}</p>
      <p id="{{ conference.id }}-case-number">
        <app-truncatable-text [text]="conference.caseNumber"></app-truncatable-text>
      </p>
      <p id="{{ conference.id }}-judge">{{ conference.judgeName }}</p>
      <p id="{{ conference.id }}-venue">{{ conference.hearingVenueName }}</p>
      <p id="{{ conference.id }}-cso">Allocated To: {{ conference.allocatedCso }}</p>
      <app-pending-tasks [conferenceId]="conference.id"></app-pending-tasks>
      <ng-container *appFeatureFlag="featureFlags.instantMessaging">
        <app-unread-messages [hearing]="mapToHearingWithParticipants(conference)"></app-unread-messages>
      </ng-container>
      <app-hearing-status id="{{ conference.id }}-hearing-status" [hearing]="mapToHearing(conference)"></app-hearing-status>
      <section>
        <ng-container *ngFor="let participant of getParticipantsForConference(conference)">
          <app-participant-network-status [participant]="participant" [conferenceId]="conference.id"></app-participant-network-status>
        </ng-container>
      </section>
      <hr />
    </article>
  </ng-container>
</section>
