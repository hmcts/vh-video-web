<div class="participantList">
  <div class="panel-container-list" (scroll)="onScroll()" id="panelList">
    <div *ngFor="let participant of participants; let i = index">
      <div class="pGridOpen">
        <div class="pName" id="panel_participant_{{ i }}">{{ participant.displayName }}</div>

        <ng-container *ngIf="!isParticipantDisconnected(participant); else participantDisconnected">
          <div class="pmute" *ngIf="isParticipantInHearing(participant)">
            <span class="tooltip">
              <span
                class="top top-name-icon govuk-body-s--white tooltip-mute"
                [ngClass]="participant.isMuted ? 'tooltip-unmute' : 'tooltip-mute'"
              >
                {{ participant.isMuted ? 'Unmute' : 'Mute' }}
              </span>
              <img
                [src]="participant.isMuted ? '/assets/images/mute-mic-red.png' : '/assets/images/mic.png'"
                class="panel-icon"
                [alt]="participant.isMuted ? 'Microphone muted icon' : 'Microphone on icon'"
                (click)="toggleMuteParticipant(participant)"
              />
            </span>
          </div>
          <div class="phand" *ngIf="participant.handRaised">
            <span class="tooltip">
              <span class="top top-name-icon govuk-body-s--white tooltip-hand">
                Lower hand
              </span>
              <img
                src="/assets/images/hand-yellow.png"
                class="panel-icon"
                alt="Hand on icon"
                (click)="lowerParticipantHand(participant.participantId)"
              />
            </span>
          </div>
          <div class="pntwk">
            <app-participant-alert [participant]="mapParticipantToParticipantResponse(participant)"></app-participant-alert>
          </div>
        </ng-container>
        <ng-template #participantDisconnected>
          <div class="pRole disconnected" id="panel_participant_role_{{ i }}">DISCONNECTED</div>
          <div class="pntwk">
            <app-participant-alert [participant]="mapParticipantToParticipantResponse(participant)"></app-participant-alert>
          </div>
        </ng-template>
      </div>
      <hr width="100%" />
    </div>
  </div>
  <div class="govuk-grid-row scroll-shevrons">
    <span *ngIf="isScrolling === 1">
      <img src="/assets/images/IM-close-arrow.png" class="scroll-icon" alt="chevron scroll down" (click)="scrollDown()" />
    </span>
    <span *ngIf="isScrolling === 2">
      <img src="/assets/images/IM-open-arrow.png" class="scroll-icon" alt="chevron scroll up" (click)="scrollUp()" />
    </span>
  </div>
  <div class="buttonRow">
    <div class="small-button btn-mute" [ngClass]="{ muted: isMuteAll }" data-prevent-double-click="true" (click)="toggleMuteAll()">
      {{ muteAllToggleText }}
    </div>
    <div class="small-button btn-lowerhand" (click)="lowerAllHands()">Lower all hands</div>
  </div>
</div>
